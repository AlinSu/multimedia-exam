# 第五章 多媒体数据压缩技术

## 数据压缩的条件

- 数据冗余度
- 人类不敏感因素
- 信息传输与存储

## 数据冗余

### 概念

冗余是指信息所具有的各种性质中多余的无用空间，其多余的程序叫做冗余度。一般而言，图像和语音的数据冗余度很大。

### 分类

- 空间冗余
- 时间冗余
- 统计冗余
- 结构冗余
- 信息熵冗余
- 视觉冗余
- 知识冗余
- 其他冗余

## 数据压缩算法

### 无损压缩编码（也叫冗余压缩）

- 无损压缩具有可恢复性和可逆性，不存在任何误差。
- 无损压缩编码基于信息熵原理，属于可逆编码。
- 典型的可逆编码有：
    
    - 霍夫曼编码
    - 算术编码
    - 行程编码

### 有损压缩编码

- 有损压缩具有不可恢复性和不可逆性。
- 常见的编码类型有：
    
    - 预测编码
    - PCM编码
    - 量化与矢量量化编码
    - 频段划分编码
    - 变换编码
    - 知识编码
    - 分层编码

### 霍夫曼编码

- 霍夫曼编码是统计编码的一种，属于无损压缩编码。其实际编码过程按照如下步骤进行：
    1. 将信号源的符号按照出现概率递减的顺序排列。
    - 将两个最小出现概率进行相加，得到的结果作为新符号的出现概率。
    - 重复进行1,2步骤，知道概率相加的结果等于1为止
    - 在合并运算时，概率大的符号用编码0表示，概率小的符号用编码1表示。
    - 记录下概率为1处到当前信号源符号之间的01序列，从而得到每个符号的编码。

- 举例：
    
    设信号源s={s1,s2,s3,s4,s5}
    
    对应的概率为p={0.25,0.22,0.20,0.18,0.15}
    
    编码过程为：

| s1(0.25)[1] | s2(0.22)[0] | s3(0.20)[1] | s4(0.18)[0] | s5(0.15)[1] |
| -- | -- | -- | -- | -- |
| 0.25[1] | `0.42`[1] | <-- | `0.33`[0] | <--   |
| --> | -- | `0.58`[0] | <-- | -- |
| -- | `1.0`(概率为1处) | <-- | -- | -- |

| -- | s1 | s2 | s3 | s4 | s5 |
| -- | -- | -- | -- | -- | -- |
| 码字 | 01 | 10 | 11 | 000 | 001 |
| 字长 | 2 | 2 | 2 | 3 | 3 |

- 当信号源符号的概率为2的负幂次方时，编码效率最高。若信号源符号的概率相等，则编码效率最低。
- 在数据压缩领域，霍夫曼编码具有一些明显的特点：
    - 由于编码长度可变，因此译码时间较长，使得霍夫曼编码的压缩与还原相当费时。
    - 编码长度不统一，硬件实现有困难。
    - 为避免误码率高，霍夫曼编码采用双字长编码，概率高的字长短，概率低的字长长。
    - 对不同信号源的编码效率不同，当信号源的符号概率为2的负幂次方时，达到100%的编码效率；若信号源符合的概率相等，则编码效率最低。
    - 霍夫曼编码表是编码的重要依据，为了节省编码时间，通常把霍夫曼编码表存储在发送端和接收端。否则，在进行编码时还要传送编码表，在很大程度上延长了编码时间。

### 算术编码

- 算术编码是无损压缩编码，属于统计编码。
- 算术编码的基本原理：将被编码的信息表示成实数轴上0和1之间的间隔，信息越长，间隔越小，表示这一间隔所需的二进制位数就越多。
- 算术编码的特点：
    - 算术编码基于概率统计的固定模式，也有相对灵活的自适应模式。所谓自适应模式的工作方式是：为各个符号设定相同的概率初始值，然后根据出现的符号做相应的改变，得到改变值。由于其编码和解码使用相同的初始值和改变值，因此概率模型保持一致。
    - 自适应模式适用于不进行概率统计的场合
    - 当信号源符号的出现概率接近时，算术编码的效率高于霍夫曼编码。
    - 算术编码的实现相应地比霍夫曼复杂，但在图像测试中表明，算术编码效率比霍夫曼编码效率高5%左右。
    
## 静态图像JPEG压缩编码技术

> JPEG图像压缩标准对同一帧图像采用两种或两种以上的编码形式，以期达到质量损失不大而又保证较高压缩比的效果。这种采用多种编码形式的处理方式叫做“混合编码方式”，它是JPEG静态图像压缩技术的显著特点。

### JPEG压缩算法

- JPEG压缩标准适用于连续色调，多级灰度，彩色或黑白图像的数据压缩，其无损压缩比大约为4:1，有损压缩比在10:1～100:1之间。
- JPEG压缩算法的特点
    - 对图像进行帧内编码，每帧色调连续，随机存储。
    - 可在很宽的范围内调节图像的压缩比和图像保真度，解码器可参数化。
    - 对图像进行压缩时，可随意选择期望的压缩比值，从而得到不同质量的图像。
    - 对硬件环境要求不高，只要有一般的CPU运算速度即可。
    - 可运行四种模式：DCT顺序编码模式，DCT递增模式，无失真编码模式，分层编码模式。
- JPEG标准定义了两种基本算法，即所谓的混合编码方法。
    - 第一种基本算法是`基于空间的线性预测技术`（即差分脉冲编码调制）算法，该算法属于`无失真压缩算法`，也叫`无失真预测编码`。
    - 第二种算法是基于离散余弦变换，行程编码，熵编码的有`失真压缩算法`，又叫`有失真DCT压缩编码`。

## 动态图像MPEG压缩编码技术

- 动态图像中最常见的是视频图像和动画，视频图像的帧速度是：
    - PAL制式：25帧/s
    - NTSC制式：30帧/s
- 动态图像压缩解决的主要问题
    - 正确区分静止图像和动态图像
    - 提取动态图像中的活动成分。
    - 进行帧之间的预测，提供压缩的依据。
- 帧的预测编码
    - 条件像素补充法。
    - 运动补偿法。
- 图像的分类
    - 帧内图像，又成为I图像，按照静态图像进行处理。
    - 预测图像，又称为P图像，通过对最近的前一帧I图像或P图像进行预测而得到。
    - 双向图像，又称为B图像，即可以以前一帧为参照物，也可以以后一帧为参照物，可以采用四种编码技术，即`帧内图像编码`，`前向预测编码`，`后向预测编码`，`双向预测编码`。双向图像的压缩方法具有以下明显的特点：
        - 综合各种压缩编码的优势，最大限度地实现数据压缩，能够获得较高的压缩比。
        - 能够进行多种方式的比较，减少误差。
        - 能够对两帧图像取平均值，以便减少图像切换时的噪声抖动和不稳定因素。
- MPEG技术标准
    - MPEG-II标准用于DVD视频信号的压缩标准。
    - MPEG压缩技术的主要任务是减少时间冗余和空间冗余，以此达到减少数据量的目的。